// Simple help message system
// It prints messages with the configured name and interval to all connected users
// Exec this file and start the help system with the command help_loop
// You can adjust those two settings and change the messages and their count
// help_cfg_time is the time between two messages in seconds
// help_cfg_prefix is prepended to each message, useful to color the nick and message differently
// help_msg_count is from 0 to last message, thus one more then the last message number you want
// the messages need to be starting from 0 and be consecutive
// for manual use: help_inc switches to the next message, help_doit will print the current message, help_next will do both together

// settings
set help_cfg_nick "^x002EAC^3"
set help_cfg_time 300

// help messages
set help_msg_count 0
alias help_msg "set help_msg_$help_msg_count ${*}; rpn /help_msg_count dup load 1 + ="

help_msg "Join #eac.xonotic on IRC (Quakenet)."
help_msg "You can vote the gametype: ft, dm, tdm, ctf, inf, jb and duel."
help_msg "Type quickmenu in the console for some options and vote calls."
help_msg "Use e for hook, g for nades."
help_msg "You can toggle nades, vcall nades nonades"
help_msg "If you prefix a message with !admin it will be sent to the server admins over IRC."
help_msg "To enable zombies ^1vcall zombie^2, to disable them ^1vcall nozombie^2 (both will end the current match)"
help_msg "^1vcall teams ^9number^2 changes the number of teams in team-based matches (will restart the current game)"
//help_msg "For added fun join #eac.orgy on IRC"
//help_msg "Minsta duel cup on 2013-11-30. Join #eac.cup for more info."

// aliases making up the actual helpsystem
//exec funlib.cfg
//set help_say_cmd mb_rainbow_say
set help_say_cmd "say ^x8F0"
alias help_say "set help_tmp_oldnick \"$sv_adminnick\"; set sv_adminnick \"$help_cfg_nick\"; $help_say_cmd ${*}; help_say2"
alias help_say2 "set sv_adminnick \"$help_tmp_oldnick\""
alias help_doit "sv_cmd rpn /help_tmp_msg help_msg_$help_tmp_index def; help_doit2"
alias help_doit2 "help_say $help_tmp_msg"
alias help_inc "sv_cmd rpn /help_tmp_index help_tmp_index 1 add $help_msg_count mod def"
alias help_next "help_inc; help_doit"
alias help_loop "help_next; defer $help_cfg_time help_loop"

defer clear
help_loop
